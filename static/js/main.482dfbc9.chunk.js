(this.webpackJsonpamazon=this.webpackJsonpamazon||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(46),l=a.n(c),i=(a(63),a(47)),o=a(3),m=(a(64),a(65),a(48)),s=a.n(m),u=a(49),d=a.n(u),p=a(10),E=Object(n.createContext)(),h=function(e){var t=e.reducer,a=e.initialState,c=e.children;return r.a.createElement(E.Provider,{value:Object(n.useReducer)(t,a)},c)},_=function(){return Object(n.useContext)(E)},g=a(31),f=a.n(g),v=f.a.initializeApp({apiKey:"AIzaSyCWXFGpDfKpv3kXSOYCHe0O-ITiKvgz7EA",authDomain:"challenge-1c717.firebaseapp.com",databaseURL:"https://challenge-1c717.firebaseio.com",projectId:"challenge-1c717",storageBucket:"challenge-1c717.appspot.com",messagingSenderId:"812835764674",appId:"1:812835764674:web:1a7fa1ec1be84acf88be5b",measurementId:"G-MET1WWLR18"}).firestore(),b=f.a.auth();var y=function(){var e=_(),t=Object(o.a)(e,2),a=t[0],n=a.basket,c=a.user;return t[1],r.a.createElement("div",{className:"header"},r.a.createElement(p.b,{to:"/"},r.a.createElement("img",{className:"header__logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png"})),r.a.createElement("div",{className:"header__search"},r.a.createElement("input",{className:"header__searchInput",tpye:"text"}),r.a.createElement(s.a,{className:"header__searchIcon"})),r.a.createElement("div",{className:"header__nav"},r.a.createElement(p.b,{to:!c&&"/login"},r.a.createElement("div",{onClick:function(){c&&b.signOut()},className:"header__option"},r.a.createElement("span",{className:"header__optionLineOne"},"Hello ",c?c.email:"Guest"),r.a.createElement("span",{className:"header__optionLineTwo"},c?"Sign out":"Sign In"))),r.a.createElement(p.b,{to:"/orders"},r.a.createElement("div",{className:"header__option"},r.a.createElement("span",{className:"header__optionLineOne"},"Return"),r.a.createElement("span",{className:"header__optionLineTwo"},"& Orders"))),r.a.createElement(p.b,{to:"/Jammy"},r.a.createElement("div",{className:"header__option"},r.a.createElement("span",{className:"header__optionLineOne"},"Created by Jammy"),r.a.createElement("span",{className:"header__optionLineTwo"},"Click Me"))),r.a.createElement(p.b,{to:"/checkout"},r.a.createElement("div",{className:"header__optionBasket"},r.a.createElement(d.a,null),r.a.createElement("span",{className:"header__optionLineTwo header__basketCount"},null===n||void 0===n?void 0:n.length)))))};a(81);var N=function(e){var t=e.id,a=e.title,n=e.image,c=e.price,l=e.rating,i=e.prime,m=_(),s=Object(o.a)(m,2),u=(s[0].basket,s[1]);return console.log(),r.a.createElement("div",{className:"product"},r.a.createElement("div",{className:"product__info"},r.a.createElement("p",null,a),r.a.createElement("p",{className:"product__price"},r.a.createElement("small",null,"\xa3"),r.a.createElement("strong",null,c)),r.a.createElement("div",{className:"product__rating"},Array(l).fill().map((function(e,t){return r.a.createElement("p",null,"\u2b50")})),r.a.createElement("img",{src:i,alt:""})),r.a.createElement("div",{className:"product__stock"},r.a.createElement("p",null,"In Stock"))),r.a.createElement("img",{src:n,alt:""}),r.a.createElement("button",{onClick:function(){u({type:"ADD_TO_BASKET",item:{id:t,title:a,image:n,price:c,rating:l,prime:i}})}},"Add to Basket"))};a(82);var k=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"home__container"},r.a.createElement("img",{className:"home__image",src:"https://miro.medium.com/max/4280/1*EgXJf8UbGTxEjn7ukuCXQQ.png",alt:""}),r.a.createElement("div",{className:"home__row"},r.a.createElement(N,{id:"12321341",title:"Nintendo Switch (Neon Red/Neon Blue) with Mario Kart 8 Deluxe - Limited Edition Bundle",price:419.99,image:"https://m.media-amazon.com/images/I/81iVhHndk1L._AC_UY327_QL65_.jpg",rating:5,prime:"https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/052018/untitled-1_282.png?zBgfG0XEfdsPUq33GRuhu6udfY3Yu_rs&itok=39OQ7JCF"}),r.a.createElement(N,{id:"12345678",title:"MSI NVIDIA GEFORCE GTX 1660 SUPER GAMING X Graphics Card '6GB GDDR6'",price:236.49,image:"https://m.media-amazon.com/images/I/61wLs2UdawL._AC_UY327_QL65_.jpg",rating:4,prime:"https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/052018/untitled-1_282.png?zBgfG0XEfdsPUq33GRuhu6udfY3Yu_rs&itok=39OQ7JCF"})),r.a.createElement("div",{className:"home__row"},r.a.createElement(N,{id:"87654321",title:"Fitbit Sense Advanced Smartwatch with Tools for Heart Health",price:199.99,rating:3,image:"https://images-na.ssl-images-amazon.com/images/I/71JrJWP88RL._AC_SL1500_.jpg",prime:"https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/052018/untitled-1_282.png?zBgfG0XEfdsPUq33GRuhu6udfY3Yu_rs&itok=39OQ7JCF"}),r.a.createElement(N,{id:"22468753",title:"Sony PlayStation 5 500GB Console - White",price:399.99,rating:2,image:"https://images-na.ssl-images-amazon.com/images/I/61W3QAWieSL._AC_SL1500_.jpg",prime:"https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/052018/untitled-1_282.png?zBgfG0XEfdsPUq33GRuhu6udfY3Yu_rs&itok=39OQ7JCF"}),r.a.createElement(N,{id:"24657854",title:"Microsoft Surface Headphones Black Universal",price:249.99,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/71NCMLXhjEL._AC_SX679_.jpg",prime:"https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/052018/untitled-1_282.png?zBgfG0XEfdsPUq33GRuhu6udfY3Yu_rs&itok=39OQ7JCF"})),r.a.createElement("div",{className:"home__row"},r.a.createElement(N,{id:"55667823",title:"HISENSE H55B7100UK 55-Inch 4K UHD HDR Smart TV with Freeview Play (2019)",price:445.17,rating:4,image:"https://m.media-amazon.com/images/I/51bYqE8foIL.jpg",prime:"https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/052018/untitled-1_282.png?zBgfG0XEfdsPUq33GRuhu6udfY3Yu_rs&itok=39OQ7JCF"}))))},O=a(5),j=(a(83),a(84),a(23)),S=a.n(j),w=a(35),C=a(17),A=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},I=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return Object(C.a)(Object(C.a)({},e),{},{basket:[].concat(Object(w.a)(e.basket),[t.item])});case"EMPTY_BASKET":return Object(C.a)(Object(C.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var a=e.basket.findIndex((function(e){return e.id===t.id})),n=Object(w.a)(e.basket);return a>=0?n.splice(a,1):console.warn("Cant remove product (id: ".concat(t.id,") as its not in basket!")),Object(C.a)(Object(C.a)({},e),{},{basket:n});case"SET_USER":return Object(C.a)(Object(C.a)({},e),{},{user:t.user});default:return e}};var T=function(){var e=Object(O.f)(),t=_(),a=Object(o.a)(t,2),n=a[0].basket;return a[1],r.a.createElement("div",{className:"subtotal"},r.a.createElement(S.a,{renderText:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Subtotal (",n.length," items):",r.a.createElement("strong",null,e)),r.a.createElement("small",{className:"subtotal__gift"},r.a.createElement("input",{type:"checkbox",name:"",id:"gift"}),r.a.createElement("label",{htmlFor:"gift"},'This order contains a gift"')))},decimalScale:2,value:A(n),displayType:"text",thousandSeparator:!0,prefix:"\xa3"}),r.a.createElement("button",{onClick:function(t){return e.push("/payment")}},"Proceed to Checkout"))};a(86);var B=function(e){var t=e.id,a=e.image,n=e.title,c=e.price,l=e.rating,i=e.hideButton,m=_(),s=Object(o.a)(m,2),u=(s[0].basket,s[1]);return r.a.createElement("div",{className:"checkoutProduct"},r.a.createElement("img",{className:"checkoutProduct__image",src:a}),r.a.createElement("div",{className:"checkoutProduct__info"},r.a.createElement("p",{className:"checkoutProduct__title"},n),r.a.createElement("p",{className:"checkoutProduct__price"},r.a.createElement("small",null,"\xa3"),r.a.createElement("strong",null,c)),r.a.createElement("div",{className:"checkoutProduct__rating"},Array(l).fill().map((function(e,t){return r.a.createElement("p",null,"\u2b50")}))),!i&&r.a.createElement("button",{onClick:function(){u({type:"REMOVE_FROM_BASKET",id:t})}},"Remove from Basket")))};var x=function(){var e=_(),t=Object(o.a)(e,2),a=t[0],n=a.basket,c=a.user;return t[1],r.a.createElement("div",{className:"checkout"},r.a.createElement("div",{className:"checkout__left"},r.a.createElement("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:"hello"}),r.a.createElement("div",null,r.a.createElement("h3",null,"Hello, ",null===c||void 0===c?void 0:c.email),r.a.createElement("h2",{className:"checkout__title"},"Your Shopping Basket"),n.map((function(e){return r.a.createElement(B,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})})))),r.a.createElement("div",{className:"checkout__right"},r.a.createElement(T,null)))};a(87),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=function(){var e=Object(O.f)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),m=Object(o.a)(i,2),s=m[0],u=m[1];return r.a.createElement("div",{className:"login"},r.a.createElement(p.b,{to:"/"},r.a.createElement("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png"})),r.a.createElement("div",{className:"login__container"},r.a.createElement("h1",null,"Sign-in"),r.a.createElement("form",null,r.a.createElement("h5",null,"E-mail"),r.a.createElement("input",{type:"text",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("h5",null,"Password"),r.a.createElement("input",{type:"password",value:s,onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{type:"submit",onClick:function(t){t.preventDefault(),b.signInWithEmailAndPassword(c,s).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login__signInButton"},"Sign In")),r.a.createElement("p",null,"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."),r.a.createElement("button",{onClick:function(t){t.preventDefault(),b.createUserWithEmailAndPassword(c,s).then((function(t){t&&e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login__registerButton"},"Create your Amazon Account")))},P=a(25),F=a.n(P),G=a(34),z=(a(89),a(21)),R=a(50),U=a.n(R).a.create({baseURL:"https://us-central1-challenge-1c717.cloudfunctions.net/api"});var Y=function(){var e=_(),t=Object(o.a)(e,2),a=t[0],c=a.basket,l=a.user,i=t[1],m=Object(O.f)(),s=Object(z.useStripe)(),u=Object(z.useElements)(),d=Object(n.useState)(!1),E=Object(o.a)(d,2),h=E[0],g=E[1],f=Object(n.useState)(""),b=Object(o.a)(f,2),y=b[0],N=b[1],k=Object(n.useState)(null),j=Object(o.a)(k,2),w=j[0],C=j[1],I=Object(n.useState)(!0),T=Object(o.a)(I,2),x=T[0],L=T[1],P=Object(n.useState)(!0),R=Object(o.a)(P,2),Y=R[0],M=R[1];Object(n.useEffect)((function(){(function(){var e=Object(G.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({method:"post",url:"/payments/create?total=".concat(100*A(c))});case 2:t=e.sent,M(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),console.log("THE SECRET IS >>>",Y),console.log("\ud83d\udc71",l);var J=function(){var e=Object(G.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),e.next=4,s.confirmCardPayment(Y,{payment_method:{card:u.getElement(z.CardElement)}}).then((function(e){var t=e.paymentIntent;v.collection("users").doc(null===l||void 0===l?void 0:l.uid).collection("orders").doc(t.id).set({basket:c,amount:t.amount,created:t.created}),g(!0),C(null),N(!1),i({type:"EMPTY_BASKET"}),m.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"payment"},r.a.createElement("div",{className:"payment__container"},r.a.createElement("h1",null,"Checkout (",r.a.createElement(p.b,{to:"/checkout"},null===c||void 0===c?void 0:c.length," items"),")"),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Delivery Address")),r.a.createElement("div",{className:"payment__address"},r.a.createElement("p",null,null===l||void 0===l?void 0:l.email),r.a.createElement("p",null,"123 React Lane"),r.a.createElement("p",null,"Los Angeles, CA"))),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Review items and delivery")),r.a.createElement("div",{className:"payment__items"},c.map((function(e){return r.a.createElement(B,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,prime:e.prime})})))),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Payment Method")),r.a.createElement("div",{className:"payment__details"},r.a.createElement("form",{onSubmit:J},r.a.createElement(z.CardElement,{onChange:function(e){L(e.empty),C(e.error?e.error.message:"")}}),r.a.createElement("div",{className:"payment__priceContainer"},r.a.createElement(S.a,{renderText:function(e){return r.a.createElement("h3",null,"Order Total: ",e)},decimalScale:2,value:A(c),displayType:"text",thousandSeparator:!0,prefix:"\xa3"}),r.a.createElement("button",{disabled:y||x||h},r.a.createElement("span",null,y?r.a.createElement("p",null,"Processing"):"Buy Now"))),w&&r.a.createElement("div",null,w))))))},M=(a(106),a(107),a(51)),J=a.n(M);var D=function(e){var t,a=e.order;return r.a.createElement("div",{className:"order"},r.a.createElement("h2",null,"Order"),r.a.createElement("p",null,J.a.unix(a.data.created).format("MMMM Do YYYY, h:mma")),r.a.createElement("p",{className:"order__id"},r.a.createElement("small",null,a.id)),null===(t=a.data.basket)||void 0===t?void 0:t.map((function(e){return r.a.createElement(B,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0})})),r.a.createElement(S.a,{renderText:function(e){return r.a.createElement("h3",{className:"order__total"},"Order Total: ",e)},decimalScale:2,value:a.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"\xa3"}))};var H=function(){var e=_(),t=Object(o.a)(e,2),a=t[0],c=(a.basket,a.user),l=(t[1],Object(n.useState)([])),i=Object(o.a)(l,2),m=i[0],s=i[1];return Object(n.useEffect)((function(){c?v.collection("users").doc(null===c||void 0===c?void 0:c.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):s([])}),[c]),r.a.createElement("div",{className:"orders"},r.a.createElement("h1",null,"Your Orders"),r.a.createElement("div",{className:"orders__order"},null===m||void 0===m?void 0:m.map((function(e){return r.a.createElement(D,{order:e})}))))};a(109);var W=function(){return r.a.createElement("div",{className:"Jam"},r.a.createElement("div",{className:"Jammy__background"},r.a.createElement("div",{className:"Jammy__greeting"},r.a.createElement("h2",null,"Thank you for visiting my page!"),r.a.createElement("div",{className:"Jammy__instruction"},r.a.createElement("h3",null,"This is a functional and working Amazon clone website"),r.a.createElement("p",null,"Everything you see is an imitation of an actual Amazon Website"),r.a.createElement("p",null,"When using 'Sign In', make sure to input fake email and click on \"Create your Amazon Account\" "),r.a.createElement("div",{className:"Jammy__payment"},r.a.createElement("p",null,"When adding something onto basket and checking out payment, use dummy payment of '42' and keep typying 42 until no more."),r.a.createElement("p",null,"This is a legit dummy credit card!"),r.a.createElement("p",null," Once the field is full, select 'Buy Now' and watch the magic work!"))))))},K=a(52),X=(a(110),a(55)),Q=a.n(X),q=a(53),V=a.n(q),Z=a(54),$=a.n(Z),ee=a(56),te=a.n(ee);var ae=function(){return r.a.createElement("div",{className:"Footer"},r.a.createElement("div",{className:"Footer__Facebook"},r.a.createElement("a",{href:"https://www.facebook.com/"},r.a.createElement(V.a,{className:"Footer__FacebookIcon"})),"Follow me on Facebook"),r.a.createElement("div",{className:"Footer__LinkedIn"},r.a.createElement("a",{href:"https://www.linkedin.com/in/jameel-anwar-766918138/"},r.a.createElement($.a,{className:"Footer__LinkedInIcon"})),"Connect me in LinkedIn"),r.a.createElement("div",{className:"Footer__Instagram"},r.a.createElement("a",{href:"https://www.instagram.com/thisisjammya/?hl=en"},r.a.createElement(Q.a,{className:"Footer__InstagramIcon"})),"Follow me on Instagram"),r.a.createElement("div",{className:"Footer__GitHub"},r.a.createElement("a",{href:"https://github.com/ItzJammyZz"},r.a.createElement(te.a,{className:"Footer__GitHubIcon"})),"Check out my Github"))},ne=Object(K.a)("pk_test_51HQFKDCijk1Kpi4MoB2JZt28xVHPNWoTa19FJUGc1XM5LSLhLiYDvep3UWWWpgqzHt5wyWGneTy83dAmjQPVgRfZ00D0cVHCnv");var re=function(){var e=_(),t=Object(o.a)(e,2);Object(i.a)(t[0]);var a=t[1];return Object(n.useEffect)((function(){b.onAuthStateChanged((function(e){console.log("THE USER IS >>>",e),a(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/Jammy"},r.a.createElement(y,null),r.a.createElement(W,null)),r.a.createElement(O.a,{path:"/orders"},r.a.createElement(y,null),r.a.createElement(H,null)),r.a.createElement(O.a,{path:"/login"},r.a.createElement(L,null),r.a.createElement(ae,null)),r.a.createElement(O.a,{path:"/checkout"},r.a.createElement(y,null),r.a.createElement(x,null)),r.a.createElement(O.a,{path:"/payment"},r.a.createElement(y,null),r.a.createElement(z.Elements,{stripe:ne},r.a.createElement(Y,null))),r.a.createElement(O.a,{path:"/"},r.a.createElement(y,null),r.a.createElement(k,null),r.a.createElement(ae,null)))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,{initialState:{basket:[],user:null},reducer:I},r.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,a){e.exports=a(112)},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.482dfbc9.chunk.js.map